<!DOCTYPE html>
<html>
<head>
  <title>Gaggiuino Shot Compare</title>
  <meta charset="UTF-8">

  <!-- Link to the external CSS stylesheet -->
  <link rel="stylesheet" href="style.css">
  
  <!-- Eel's special JavaScript file. This MUST be included for Python/JS communication. -->
  <script src="/eel.js"></script>
  
  <!-- Include the Chart.js library from a CDN for creating graphs. -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <!-- The sidebar contains the list of shots and control elements. -->
  <div class="sidebar">
    
    <!-- Header section of the sidebar. -->
    <div class="sidebar-header">
      <h2>
		    <!-- Settings button. -->
		    <span id="settings-btn" title="Open Settings"></span>
		    <!-- Main application title -->
		    Gaggiuino Shot Compare
	    </h2>
    </div>

    <!-- Container for search and filter controls. -->
    <div class="search-controls">
      <div class="filter-container">
        <input type="text" id="profile-filter" placeholder="Filter by profile name...">
        <button id="clear-filter-btn" title="Clear filter">×</button>
      </div>
      <!-- This div is used to show temporary feedback messages, like errors. -->
      <div id="feedback-area"></div>
    </div>
    
    <!-- This div will be populated by JavaScript with the list of recent shots. -->
    <div class="shot-list" id="shot-list">
      <!-- Shot list will be rendered here by JavaScript -->
    </div>

  </div>

  <!-- A small, draggable vertical bar that allows resizing the sidebar. -->
  <div class="resizer" id="resizer"></div>

  <!-- The main content area where the shot charts will be displayed. -->
  <div class="main-content">
    
    <!-- This container will be populated by JavaScript with the selected shot charts. -->
    <div class="charts-container" id="chart-area">
      <!-- Charts will be rendered here by JavaScript -->
    </div>

  </div>

  <!-- Settings overlay section -->
  <div id="settings-overlay" class="settings-overlay hidden">
    <div class="settings-panel">
      <div class="settings-header">
        <h2>Settings</h2>
        <button id="settings-close-btn" class="close-btn" title="Close Settings">×</button>
      </div>
      <div class="settings-content">
        <!-- 1. Dark/Light mode toggle -->
        <div class="setting-item">
          <label for="theme-toggle-switch">Dark Mode</label>
          <label class="switch">
            <input type="checkbox" id="theme-toggle-switch">
            <span class="slider round"></span>
          </label>
        </div>
        <!-- 2. Gaggiuino URL input -->
        <div class="setting-item">
          <label for="gaggiuino-url-input">Gaggiuino URL or IP</label>
          <input type="text" id="gaggiuino-url-input" class="settings-input" placeholder="http://gaggiuino.local">
        </div>
        <!-- 3. Max charts input -->
        <div class="setting-item">
          <label for="max-charts-input">Max Comparison Charts</label>
          <input type="number" id="max-charts-input" class="settings-input" min="1" max="10">
        </div>
      </div>
      <div class="settings-footer">
        <div id="settings-feedback" class="settings-feedback"></div>
        <button id="settings-save-btn" class="settings-save-btn">Save & Close</button>
      </div>
    </div>
  </div>

  <!-- Link to main application logic JavaScript file. -->
  <script src="script.js"></script>
</body>
</html>